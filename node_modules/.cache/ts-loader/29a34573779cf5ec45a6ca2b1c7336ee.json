{"remainingRequest":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/zhaozhen/Desktop/算命/gossip/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--13-2!/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!/Users/zhaozhen/Desktop/算命/gossip/src/views/weixinpay/weixinpay.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhaozhen/Desktop/算命/gossip/src/views/weixinpay/weixinpay.vue","mtime":1603103861791},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvVXNlcnMvemhhb3poZW4vRGVza3RvcC9cdTdCOTdcdTU0N0QvZ29zc2lwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL3poYW96aGVuL0Rlc2t0b3AvXHU3Qjk3XHU1NDdEL2dvc3NpcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgX2luaGVyaXRzIGZyb20gIi9Vc2Vycy96aGFvemhlbi9EZXNrdG9wL1x1N0I5N1x1NTQ3RC9nb3NzaXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvVXNlcnMvemhhb3poZW4vRGVza3RvcC9cdTdCOTdcdTU0N0QvZ29zc2lwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVTdXBlciI7CmltcG9ydCB7IF9fZGVjb3JhdGUgfSBmcm9tICJ0c2xpYiI7CmltcG9ydCBRUkNvZGUgZnJvbSAncXJjb2RlanMyJzsKaW1wb3J0IHsgQ29tcG9uZW50LCBWdWUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IENsaXBib2FyZCBmcm9tICJjbGlwYm9hcmQiOwoKdmFyIHdlaXhpbnBheSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyh3ZWl4aW5wYXksIF9WdWUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKHdlaXhpbnBheSk7CgogIGZ1bmN0aW9uIHdlaXhpbnBheSgpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgd2VpeGlucGF5KTsKCiAgICBfdGhpcyA9IF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgX3RoaXMucXJjb2RlID0gJyc7CiAgICBfdGhpcy5pbm5lclZpc2libGUgPSBmYWxzZTsKICAgIF90aGlzLnFyID0gJyc7CiAgICBfdGhpcy5jb3ZlciA9IHRydWU7CiAgICBfdGhpcy50aW1lID0gNzIwMDAwMDsKICAgIF90aGlzLnRpbWVJZCA9ICcnOwogICAgX3RoaXMucDEgPSAn6K+35L2/55So5b6u5L+h5omr5o+PJzsKICAgIF90aGlzLnAyID0gJ+S6jOe7tOeggeWujOaIkOaUr+S7mCc7CiAgICBfdGhpcy5xdWVyeSA9IHt9OwogICAgcmV0dXJuIF90aGlzOwogIH0KCiAgX2NyZWF0ZUNsYXNzKHdlaXhpbnBheSwgW3sKICAgIGtleTogImNyZWF0ZWQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICAgIHZhciBxdWVyeSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnVzZXI7CiAgICAgIHRoaXMucXVlcnkgPSBKU09OLnBhcnNlKHF1ZXJ5KTsKICAgICAgdGhpcy5wYXlPcmRlcigpOwogICAgICB0aGlzLkNvdW50RG93bigpOwogICAgfQogIH0sIHsKICAgIGtleTogImNvcHlGbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weUZuKGlkKSB7CiAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKGlkKTsKICAgICAgdmFyIG0gPSB0aGlzOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgY2xpcGJvYXJkLm9uKCJzdWNjZXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIG0uJHRvYXN0KCflpI3liLbmiJDlip8nKTsKICAgICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7CiAgICAgICAgfSk7CiAgICAgICAgY2xpcGJvYXJkLm9uKCJlcnJvciIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBtLiR0b2FzdCgn5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyB5aSN5Yi2Jyk7CiAgICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJwYXlPcmRlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gcGF5T3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy5pbm5lclZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnFyY29kZSA9IHRoaXMucXVlcnkucGF5X3VybDsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi5jcmF0ZVFyY29kZSgpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJDb3VudERvd24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIENvdW50RG93bigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnRpbWVJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuaW5mbygpOyAvLyB0aGlzLnRpbWUtLQogICAgICAgIC8vIGlmKHRoaXMudGltZSA9PT0gMCkgewogICAgICAgIC8vICAgICBjbGVhckludGVydmFsKHRoaXMudGltZUlkKQogICAgICAgIC8vICAgICB0aGlzLmNvdmVyID0gZmFsc2UKICAgICAgICAvLyAgICAgdGhpcy5wMSA9ICflvq7kv6Hkuoznu7TnoIHlt7LlpLHmlYgnCiAgICAgICAgLy8gICAgIHRoaXMucDIgPSAn6K+354K55Ye75Yi35pawJwogICAgICAgIC8vIH0KCiAgICAgIH0sIDUwMDApOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbmlzaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluaXNoKCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZUlkKTsgLy8g5riF6Zmk5a6a5pe25ZmoCgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ0VpZ2h0V29yZHMnCiAgICAgIH0pOyAvLyDov4fmnJ/ot7PlvoDpppbpobXku47mlrDkuIvljZUKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWZyZXNoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWZyZXNoKCkgewogICAgICBpZiAoIXRoaXMuY292ZXIpIHsKICAgICAgICB0aGlzLnRpbWUgPSAxMDsKICAgICAgICB0aGlzLmNvdmVyID0gdHJ1ZTsKICAgICAgICB0aGlzLnAxID0gJ+ivt+S9v+eUqOW+ruS/oeaJq+aPjyc7CiAgICAgICAgdGhpcy5wMiA9ICfkuoznu7TnoIHlrozmiJDmlK/ku5gnOyAvLyAgdGhpcy5Db3VudERvd24oKQogICAgICB9CiAgICB9IC8vIOeUn+aIkOS6jOe7tOeggQoKICB9LCB7CiAgICBrZXk6ICJjcmF0ZVFyY29kZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JhdGVRcmNvZGUoKSB7CiAgICAgIHRoaXMucXIgPSBuZXcgUVJDb2RlKCdxcmNvZGUnLCB7CiAgICAgICAgd2lkdGg6IDI4MiwKICAgICAgICBoZWlnaHQ6IDI3NSwKICAgICAgICB0ZXh0OiB0aGlzLnFyY29kZSAvLyDkuoznu7TnoIHlhoXlrrkKICAgICAgICAvLyByZW5kZXI6ICdjYW52YXMnIC8vIOiuvue9rua4suafk+aWueW8j++8iOacieS4pOenjeaWueW8jyB0YWJsZeWSjGNhbnZhc++8jOm7mOiupOaYr2NhbnZhc++8iQogICAgICAgIC8vIGJhY2tncm91bmQ6ICcjZjBmJwogICAgICAgIC8vIGZvcmVncm91bmQ6ICcjZmYwJwoKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYmVmb3JlRGVzdHJveSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVJZCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaW5mbyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5mbygpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBvcmRlcl9ubzogdGhpcy5xdWVyeS5vcmRlcl9ubwogICAgICB9OwogICAgICB0aGlzLiRwb3N0KCdxdWVyeU9yZGVyJywgZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5lcnJvcl9jb2RlID09IDApIHsKICAgICAgICAgIC8vIOaIkOWKn+i3s+i9rOe7k+aenOmhtemdogogICAgICAgICAgaWYgKHJlcy5kYXRhLnRyYWRlX3N0YXRlID09ICdTVUNDRVNTJykgewogICAgICAgICAgICAvLyDlj6rmnInmiJDlip/lkI7miY3lgZrlpITnkIblhbbku5bnirbmgIHkuI3lgZrlpITnkIYKICAgICAgICAgICAgX3RoaXM0LiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ3Jlc3VsdHMnLAogICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICBvcmRlcl9ubzogSlNPTi5zdHJpbmdpZnkoX3RoaXM0LnF1ZXJ5Lm9yZGVyX25vKQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gd2VpeGlucGF5Owp9KFZ1ZSk7Cgp3ZWl4aW5wYXkgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHt9Cn0pXSwgd2VpeGlucGF5KTsKZXhwb3J0IGRlZmF1bHQgd2VpeGlucGF5Ow=="},{"version":3,"sources":["/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!/Users/zhaozhen/Desktop/算命/gossip/src/views/weixinpay/weixinpay.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport QRCode from 'qrcodejs2'\nimport { Component, Vue } from 'vue-property-decorator';\nimport Clipboard from \"clipboard\";\n\n@Component({\n    components: {},\n})\nexport default class weixinpay extends Vue {\n    qrcode:any='';\n    innerVisible:any=false;\n    qr:any='';\n    cover:any = true;\n    time:any= 7200000;\n    timeId:any = ''\n    p1:string = '请使用微信扫描'\n    p2:string = '二维码完成支付'\n    query:any={}\n    created () {\n        let query:any = this.$route.query.user\n        this.query = JSON.parse(query);\n        this.payOrder()\n        this.CountDown()\n    }\n    copyFn(id:any) { // 复制功能\n        let clipboard = new Clipboard(id);\n        let m:any = this\n        this.$nextTick(() => {\n          clipboard.on(\"success\", function(e:any) {\n            m.$toast('复制成功')\n            clipboard.destroy();\n          });\n          clipboard.on(\"error\", function(e:any) {\n            m.$toast('当前浏览器不支持复制')\n            clipboard.destroy();\n          });\n        });\n      }\n    payOrder () {\n        this.innerVisible = true\n        this.qrcode = this.query.pay_url\n        this.$nextTick(() => {\n        this.crateQrcode()\n        })\n    }\n    CountDown() {\n        this.timeId = setInterval(()=>{\n            this.info()\n            // this.time--\n            // if(this.time === 0) {\n            //     clearInterval(this.timeId)\n            //     this.cover = false\n            //     this.p1 = '微信二维码已失效'\n            //     this.p2 = '请点击刷新'\n            // }\n        },5000)\n    }\n    finish(){ // 倒计时结束\n        clearInterval(this.timeId) // 清除定时器\n        this.$router.push({name: 'EightWords'}); // 过期跳往首页从新下单\n    }\n    refresh() { // 刷新按钮\n        if(!this.cover) {\n            this.time = 10\n            this.cover = true\n            this.p1 = '请使用微信扫描'\n            this.p2 = '二维码完成支付'\n            //  this.CountDown()\n        }\n    }\n    // 生成二维码\n    crateQrcode () {\n        this.qr = new QRCode('qrcode', {\n        width: 282,\n        height: 275, // 高度\n        text: this.qrcode // 二维码内容\n        // render: 'canvas' // 设置渲染方式（有两种方式 table和canvas，默认是canvas）\n        // background: '#f0f'\n        // foreground: '#ff0'\n        })\n    }\n    beforeDestroy () {\n        clearInterval(this.timeId)\n    }\n    info() { //轮询结果\n        let data = {\n            order_no:this.query.order_no\n        }\n        this.$post('queryOrder',data).then((res:any)=>{\n            if(res.error_code == 0) { // 成功跳转结果页面\n                if(res.data.trade_state == 'SUCCESS') { // 只有成功后才做处理其他状态不做处理\n                  this.$router.push({name: 'results',query:{ order_no: JSON.stringify(this.query.order_no)}});\n                }\n            } \n        }).catch((err:any)=> {\n            console.log(err)\n        })\n    }\n}\n"],"sourceRoot":""}]}