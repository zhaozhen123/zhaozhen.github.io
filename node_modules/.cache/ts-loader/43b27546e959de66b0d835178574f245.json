{"remainingRequest":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!/Users/zhaozhen/Desktop/算命/gossip/node_modules/_ts-loader@6.2.2@ts-loader/index.js??ref--13-2!/Users/zhaozhen/Desktop/算命/gossip/src/views/middle/middle.ts?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zhaozhen/Desktop/算命/gossip/src/views/middle/middle.ts","mtime":1603338580767},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_ts-loader@6.2.2@ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdCI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL3poYW96aGVuL0Rlc2t0b3AvXHU3Qjk3XHU1NDdEL2dvc3NpcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy96aGFvemhlbi9EZXNrdG9wL1x1N0I5N1x1NTQ3RC9nb3NzaXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0IF9pbmhlcml0cyBmcm9tICIvVXNlcnMvemhhb3poZW4vRGVza3RvcC9cdTdCOTdcdTU0N0QvZ29zc2lwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9pbmhlcml0cyI7CmltcG9ydCBfY3JlYXRlU3VwZXIgZnJvbSAiL1VzZXJzL3poYW96aGVuL0Rlc2t0b3AvXHU3Qjk3XHU1NDdEL2dvc3NpcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgeyBfX2RlY29yYXRlIH0gZnJvbSAidHNsaWIiOwppbXBvcnQgeyBDb21wb25lbnQsIFZ1ZSB9IGZyb20gJ3Z1ZS1wcm9wZXJ0eS1kZWNvcmF0b3InOwppbXBvcnQgQ2xpcGJvYXJkIGZyb20gImNsaXBib2FyZCI7Cgp2YXIgcmVzdWx0cyA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1Z1ZSkgewogIF9pbmhlcml0cyhyZXN1bHRzLCBfVnVlKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihyZXN1bHRzKTsKCiAgZnVuY3Rpb24gcmVzdWx0cygpIHsKICAgIHZhciBfdGhpczsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgcmVzdWx0cyk7CgogICAgX3RoaXMgPSBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIF90aGlzLnN0YXRlID0gZmFsc2U7CiAgICBfdGhpcy5vcmRlcl9ubyA9ICcnOwogICAgX3RoaXMucGF5X3VybCA9ICcnOwogICAgX3RoaXMudGltZUlkID0gJyc7CiAgICBfdGhpcy50aW1lID0gNzIwMDsKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhyZXN1bHRzLCBbewogICAga2V5OiAiY3JlYXRlZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgICAgdGhpcy4kY29tbW9uLmg1X3JlcG9ydCgndW51c3VhbF9zaG93Jyk7CgogICAgICBpZiAoIXRoaXMuJGNvbW1vbi5pc1d4KCkpIHsKICAgICAgICAvLyDlvq7kv6Hnjq/looPkuI3miKrlj5blj4LmlbAKICAgICAgICB2YXIgdXJsID0gZGVjb2RlVVJJQ29tcG9uZW50KHRoaXMuJGNvbW1vbi5nZXRRdWVyeVN0cmluZygnb3JkZXJfbm8nKSk7CiAgICAgICAgdGhpcy5vcmRlcl9ubyA9IHVybC5zcGxpdCgnLCcpWzBdOwogICAgICAgIHRoaXMucGF5X3VybCA9IHVybC5zcGxpdCgnLCcpWzFdOwogICAgICAgIHRoaXMudGltZSA9IDMwMDsKICAgICAgICB0aGlzLkNvdW50RG93bigpOyAvLyDlgJLorqHml7bkupTliIbpkp8KICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgZGF0YSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnJlczsKICAgICAgICB0aGlzLm9yZGVyX25vID0gSlNPTi5wYXJzZShkYXRhKS5vcmRlcl9ubzsKICAgICAgICB0aGlzLkNvdW50RG93bigpOyAvLyDlvIDlp4vlgJLorqHml7YKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogIkNvdW50RG93biIsCiAgICB2YWx1ZTogZnVuY3Rpb24gQ291bnREb3duKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMudGltZUlkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi50aW1lLS07CgogICAgICAgIGlmIChfdGhpczIudGltZSA9PSAwIHx8IF90aGlzMi50aW1lIDwgMCkgewogICAgICAgICAgY2xlYXJJbnRlcnZhbChfdGhpczIudGltZUlkKTsgLy8g5riF6Zmk5a6a5pe25ZmoCgogICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdFaWdodFdvcmRzJwogICAgICAgICAgfSk7IC8vIOi/h+acn+i3s+W+gOmmlumhteS7juaWsOS4i+WNlQoKICAgICAgICB9CiAgICAgIH0sIDEwMDApOwogICAgfQogIH0sIHsKICAgIGtleTogImJ1dHRvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYnV0dG9uKCkgewogICAgICBpZiAoIXRoaXMuJGNvbW1vbi5pc1d4KCkpIHsKICAgICAgICAvL+W+ruS/oeWklumDqOa1j+iniOWZqOiwg+eUqAogICAgICAgIHRoaXMuc3RhdGUgPSB0cnVlOwogICAgICAgIHRoaXMuaW5mbygpOwogICAgICAgIHRoaXMuJGNvbW1vbi5oNV9yZXBvcnQoJ2NvbnRpbnVlX3RvX3BheV9jbGljaycpOwogICAgICB9CgogICAgICBpZiAodGhpcy4kY29tbW9uLmlzV3goKSkgewogICAgICAgIC8vIOW+ruS/oeWGhemDqOiwg+eUqAogICAgICAgIHRoaXMub25CcmlkZ2VSZWFkeSh0aGlzLiRyb3V0ZS5xdWVyeS5yZXMpOyAvLyDojrflj5bku6XliY3nmoTlj4LmlbDmi4notbflvq7kv6HmlK/ku5gKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNvcHlGbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY29weUZuKGlkKSB7CiAgICAgIHZhciBjbGlwYm9hcmQgPSBuZXcgQ2xpcGJvYXJkKGlkKTsKICAgICAgdmFyIG0gPSB0aGlzOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgY2xpcGJvYXJkLm9uKCJzdWNjZXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIG0uJHRvYXN0KCflpI3liLbmiJDlip8nKTsKICAgICAgICAgIGNsaXBib2FyZC5kZXN0cm95KCk7CiAgICAgICAgfSk7CiAgICAgICAgY2xpcGJvYXJkLm9uKCJlcnJvciIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBtLiR0b2FzdCgn5b2T5YmN5rWP6KeI5Zmo5LiN5pSv5oyB5aSN5Yi2Jyk7CiAgICAgICAgICBjbGlwYm9hcmQuZGVzdHJveSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJvbkJyaWRnZVJlYWR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkJyaWRnZVJlYWR5KHJlcykgewogICAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UocmVzKTsKICAgICAgdmFyIG0gPSB0aGlzOwogICAgICB2YXIgd2luID0gd2luZG93OwogICAgICB3aW4uV2VpeGluSlNCcmlkZ2UuaW52b2tlKCdnZXRCcmFuZFdDUGF5UmVxdWVzdCcsIHsKICAgICAgICAiYXBwSWQiOiBkYXRhLmFwcElkLAogICAgICAgICJ0aW1lU3RhbXAiOiBKU09OLnN0cmluZ2lmeShkYXRhLnRpbWVTdGFtcCksCiAgICAgICAgIm5vbmNlU3RyIjogZGF0YS5ub25jZVN0ciwKICAgICAgICAicGFja2FnZSI6IGRhdGEucGFja2FnZSwKICAgICAgICAic2lnblR5cGUiOiBkYXRhLnNpZ25UeXBlLAogICAgICAgICJwYXlTaWduIjogZGF0YS5wYXlTaWduIC8vIOW+ruS/oeetvuWQjSAgCgogICAgICB9LCBmdW5jdGlvbiAoZ2V0KSB7CiAgICAgICAgaWYgKGdldC5lcnJfbXNnID09ICJnZXRfYnJhbmRfd2NwYXlfcmVxdWVzdDpvayIpIHsKICAgICAgICAgIG0uJGNvbW1vbi5rc19hY3RpdmF0ZSh7CiAgICAgICAgICAgIGNhbGxiYWNrOiBtLiRjb21tb24uZ2V0UGFyYW0oImNhbGxiYWNrIiksCiAgICAgICAgICAgIGV2ZW50X3R5cGU6ICcxNScsCiAgICAgICAgICAgIGV2ZW50X3RpbWU6IG5ldyBEYXRlKCkuZ2V0VGltZSgpLAogICAgICAgICAgICBwdXJjaGFzZV9hbW91bnQ6ICcyOC4wMCcKICAgICAgICAgIH0pOwogICAgICAgICAgbS4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAncmVzdWx0cycsCiAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgb3JkZXJfbm86IEpTT04uc3RyaW5naWZ5KGRhdGEub3JkZXJfbm8pCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdtaWRkbGUnLAogICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgIHJlczogSlNPTi5zdHJpbmdpZnkoZGF0YSkKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbmZvIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbmZvKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG9yZGVyX25vOiB0aGlzLm9yZGVyX25vCiAgICAgIH07CiAgICAgIHRoaXMuJHBvc3QoJ3F1ZXJ5T3JkZXInLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmVycm9yX2NvZGUgPT0gMCkgewogICAgICAgICAgLy8g5oiQ5Yqf6Lez6L2s57uT5p6c6aG16Z2iCiAgICAgICAgICBpZiAocmVzLmRhdGEudHJhZGVfc3RhdGUgPT0gJ1NVQ0NFU1MnKSB7CiAgICAgICAgICAgIC8vIOWPquacieaIkOWKn+WQjuaJjeWBmuWkhOeQhuWFtuS7lueKtuaAgeS4jeWBmuWkhOeQhgogICAgICAgICAgICBfdGhpczMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICBuYW1lOiAncmVzdWx0cycsCiAgICAgICAgICAgICAgcXVlcnk6IHsKICAgICAgICAgICAgICAgIG9yZGVyX25vOiBKU09OLnN0cmluZ2lmeShfdGhpczMub3JkZXJfbm8pCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChfdGhpczMuc3RhdGUpIHsKICAgICAgICAgICAgICB2YXIgUEFVID0gcHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkw7CiAgICAgICAgICAgICAgdmFyIHd1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsgLy8gaWYod3VybC5pbmRleE9mKCduYW1lJykgPiAwKSB7IC8vIOajgOafpeaYr+S7gOS5iOWfn+WQjQogICAgICAgICAgICAgIC8vICAgICBQQVUgPSBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTF9OQU1FCiAgICAgICAgICAgICAgLy8gfQoKICAgICAgICAgICAgICB2YXIgdXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzMy5vcmRlcl9ubyArICcsJyArIF90aGlzMy5wYXlfdXJsKTsKICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShfdGhpczMucGF5X3VybCArICcmcmVkaXJlY3RfdXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQoUEFVICsgJy9taWRkbGU/b3JkZXJfbm89JyArIHVybCkpOyAvLyBsb2NhdGlvbi5ocmVmID0gIHRoaXMucGF5X3VybCArICcmcmVkaXJlY3RfdXJsPScrIGVuY29kZVVSSUNvbXBvbmVudChwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCArICcvbWlkZGxlP29yZGVyX25vPScgKyB1cmwpCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMzLiR0b2FzdCgn5oKo6L+Y5rKh5pyJ5LuY5qy+77yM6K+35YWI5LuY5qy+Jyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMzLiR0b2FzdChyZXMuZXJyb3JfbWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CgogICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gZmFsc2UpIHsKICAgICAgICB0aGlzLiRjb21tb24uaDVfcmVwb3J0KCdjb21wbGV0ZV9wYXltZW50X2NsaWNrJyk7CiAgICAgIH0KICAgIH0KICB9XSk7CgogIHJldHVybiByZXN1bHRzOwp9KFZ1ZSk7CgpyZXN1bHRzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7fQp9KV0sIHJlc3VsdHMpOwpleHBvcnQgZGVmYXVsdCByZXN1bHRzOw=="},{"version":3,"sources":["/Users/zhaozhen/Desktop/算命/gossip/src/views/middle/middle.ts?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["import { Component, Vue } from 'vue-property-decorator';\nimport Clipboard from \"clipboard\";\n\n@Component({\n    components: {},\n})\nexport default class results extends Vue {\n    state:any = false\n    order_no:any =''\n    pay_url:any =''\n    timeId:any = ''\n    time:any = 7200\n    created () {\n        this.$common.h5_report('unusual_show')\n        if(!this.$common.isWx()) { // 微信环境不截取参数\n            let url = decodeURIComponent(this.$common.getQueryString('order_no'))\n            this.order_no = url.split(',')[0]\n            this.pay_url = url.split(',')[1]\n            this.time = 300;\n            this.CountDown() // 倒计时五分钟\n        } else {\n            let data:any = this.$route.query.res\n            this.order_no = JSON.parse(data).order_no\n            this.CountDown() // 开始倒计时\n        }\n    }\n    CountDown() { // 倒计时两小时\n        this.timeId = setInterval(()=> {\n            this.time--;\n            if(this.time == 0 || this.time < 0) {\n                clearInterval(this.timeId) // 清除定时器\n                this.$router.push({name: 'EightWords'}); // 过期跳往首页从新下单\n            }\n        }, 1000)\n    }\n    button() { // 继续支付 拉起微信支付\n        if(!this.$common.isWx()) { //微信外部浏览器调用\n            this.state = true\n            this.info()\n            this.$common.h5_report('continue_to_pay_click')\n        }\n        if(this.$common.isWx()) { // 微信内部调用\n            this.onBridgeReady(this.$route.query.res) // 获取以前的参数拉起微信支付\n        }\n    }\n    copyFn(id:any) { // 复制功能\n        let clipboard = new Clipboard(id);\n        let m:any = this\n        this.$nextTick(() => {\n          clipboard.on(\"success\", function(e:any) {\n            m.$toast('复制成功')\n            clipboard.destroy();\n          });\n          clipboard.on(\"error\", function(e:any) {\n            m.$toast('当前浏览器不支持复制')\n            clipboard.destroy();\n          });\n        });\n      }\n    onBridgeReady(res:any) { // 微信内跳转支付\n        let data = JSON.parse(res)\n        let m:any = this\n        let win:any = window\n        win.WeixinJSBridge.invoke(\n           'getBrandWCPayRequest', {\n              \"appId\": data.appId,     // 公众号名称，由商户传入     \n              \"timeStamp\": JSON.stringify(data.timeStamp),  // 时间戳，自1970年以来的秒数     \n              \"nonceStr\": data.nonceStr, // 随机串     \n              \"package\": data.package,     \n              \"signType\": data.signType, // 微信签名方式\n              \"paySign\": data.paySign // 微信签名  \n           },\n           function(get:any) {\n           if(get.err_msg == \"get_brand_wcpay_request:ok\" ) {\n                m.$common.ks_activate({ // 快手上报\n                    callback: m.$common.getParam(\"callback\"),\n                    event_type: '15',\n                    event_time: new Date().getTime(),\n                    purchase_amount: '28.00'\n                })\n                m.$router.push({name: 'results',query:{ order_no: JSON.stringify(data.order_no)}});\n           } else {\n                m.$router.push({name: 'middle',query:{ \n                    res: JSON.stringify(data),\n                }});\n           }\n        }); \n    }\n    info() { //已完成付款点击\n        let data = {\n            order_no: this.order_no\n        }\n        this.$post('queryOrder',data).then((res:any)=> { // 查询是否完成付款\n            if(res.error_code == 0) { // 成功跳转结果页面\n                if(res.data.trade_state == 'SUCCESS') { // 只有成功后才做处理其他状态不做处理\n                    this.$router.push({name: 'results',query:{ order_no: JSON.stringify(this.order_no)}});\n                } else {\n                    if(this.state) {\n                        let PAU = process.env.VUE_APP_URL\n                        let wurl = window.location.href\n                        // if(wurl.indexOf('name') > 0) { // 检查是什么域名\n                        //     PAU = process.env.VUE_APP_URL_NAME\n                        // }\n                        let url = encodeURIComponent(this.order_no + ',' + this.pay_url)\n                        window.location.replace(this.pay_url + '&redirect_url='+ encodeURIComponent(PAU + '/middle?order_no=' + url))\n                        // location.href =  this.pay_url + '&redirect_url='+ encodeURIComponent(process.env.VUE_APP_URL + '/middle?order_no=' + url)\n                    } else {\n                        this.$toast('您还没有付款，请先付款')\n                    }\n                }\n            } else {\n                this.$toast(res.error_message)\n            }\n        }).catch((err:any)=> {\n            console.log(err)\n        })\n       if(this.state === false) {\n          this.$common.h5_report('complete_payment_click')\n       }\n    }\n}"],"sourceRoot":""}]}