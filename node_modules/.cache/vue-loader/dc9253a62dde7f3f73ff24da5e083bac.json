{"remainingRequest":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!/Users/zhaozhen/Desktop/算命/gossip/src/views/weixinpay/weixinpay.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/zhaozhen/Desktop/算命/gossip/src/views/weixinpay/weixinpay.vue","mtime":1603103861791},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/zhaozhen/Desktop/算命/gossip/node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCmJvZHl7CiAgICBtYXgtd2lkdGg6IDEwMCUgIWltcG9ydGFudDsKICAgIC53ZWl4aW5wYXkgewogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIGhlaWdodDogMTAwJTsKICAgIH0KICAgIC5oZWlnaHR7CiAgICAgICAgd2lkdGg6MTAwJTsKICAgICAgICBoZWlnaHQ6NzhweDsKICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvYmFja2hlcmRlci5wbmcnKSAtM3B4IC00cHggbm8tcmVwZWF0OwogICAgICAgIGJhY2tncm91bmQtc2l6ZTogMTAxJSAxMDUlOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAud2VpeGluZyB7CiAgICAgICAgICAgIHdpZHRoOiAyMjFweDsKICAgICAgICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvd2VpeGluZ3BheS5wbmcnKTsKICAgICAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxMDElIDEwMCU7CiAgICAgICAgfQogICAgfQogICAgLmNvbnRlbnR7CiAgICAgICAgd2lkdGg6MTAwMHB4OwogICAgICAgIG1hcmdpbjowIGF1dG87CiAgICAgICAgLnRpdGxlTmF2ewogICAgICAgICAgICBwYWRkaW5nOjQwcHggMTBweCAzMXB4IDEwcHg7CiAgICAgICAgfQogICAgICAgIC5RckNvZGV7CiAgICAgICAgICAgIHdpZHRoOiAxMDAwcHg7CiAgICAgICAgICAgIGhlaWdodDogNjEwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgYm94LXNoYWRvdzogMHB4IDBweCAxMHB4IDBweCByZ2JhKDAsMCwwLDAuMSk7CiAgICAgICAgICAgIHBhZGRpbmc6NTRweCAwIDUxcHggMDsKICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNDBweDsKICAgICAgICAgICAgLmxlZnQgewogICAgICAgICAgICAgICAgd2lkdGg6IDUwJTsKICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgICAgIC50aXRsZSB7CiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZywgUGluZ0ZhbmctU0M7CiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IFNDOwogICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogIzMzMzMzMzsKICAgICAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjBweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46MjlweCAwIDI5cHggMDsKICAgICAgICAgICAgICAgICAgICAudmFuLWNvdW50LWRvd257CiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuQ29kZXsKICAgICAgICAgICAgICAgICAgICB3aWR0aDogMzE2cHg7CiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzMDlweDsKICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCAjZTZlNmU2OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46MCBhdXRvOwogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6MTVweDsKICAgICAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC5jb3ZlcnsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBoc2woMjAsNDAlLDkwJSk7CiAgICAgICAgICAgICAgICAgICAgZmlsdGVyOmJsdXIoMTBweCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAuZ3VpZGV7CiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDMxNnB4OwogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNzRweDsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmY3Njc0OwogICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46MzRweCBhdXRvOwogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAvLyBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICAgICAgLnBvaW50YXsKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6NTJweDsKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OjUycHg7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybCgnLi4vLi4vYXNzZXRzL2ltZy9Qb2ludGEucG5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAucG9pbnRiewogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDozMnB4OwogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6MzJweDsKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1nL3JlZnJlc2gucG5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAucHJvbXB0IHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmcsIFBpbmdGYW5nLVNDOwogICAgICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogU0M7CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICNmZmZmZmY7CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4OwogICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMjdweDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLnJpZ2h0IHsKICAgICAgICAgICAgICAgIHdpZHRoOiA1MCU7CiAgICAgICAgICAgICAgICAuaW1newogICAgICAgICAgICAgICAgICAgIHdpZHRoOjQzMnB4OwogICAgICAgICAgICAgICAgICAgIGhlaWdodDo1MDVweDsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWcvd2VpeGluZy5wbmcnKTsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgMTAwJTsKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IDAgYXV0bzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIC5hbW91bnR7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICAgIGhlaWdodDo1MHB4OwogICAgfQp9Cg=="},{"version":3,"sources":["weixinpay.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"weixinpay.vue","sourceRoot":"src/views/weixinpay","sourcesContent":["<template>\n    <div class=\"weixinpay\">\n        <div class=\"height\">\n            <div class=\"weixing\"></div>\n        </div>\n        <div class=\"content\">\n            <div class=\"titleNav\">\n                <span>商品名称：姓名解析 </span><span class=\"fr\">应付金额 <span style=\"color:#E42118;\">28.00</span> 元</span>\n            </div>\n            <div class=\"QrCode\">\n                <div class=\"left fl\">\n                    <div class=\"title\">距离二维码过期还剩下<van-count-down :time=\"time\" @finish=\"finish\" />，请尽快付款</div>\n                    <div :class=\"cover?'Code':'Code cover'\" id=\"qrcode\" ref=\"qrcode\"></div>\n                    <div class=\"guide\" @click=\"refresh\">\n                        <div :class=\"cover?'pointa':'pointb'\"></div>\n                        <div class=\"prompt\">\n                            <p>{{p1}}</p>\n                            <p>{{p2}}</p>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"right fr\">\n                    <div class=\"img\"></div>\n                </div>\n            </div>\n        </div>\n        <div class=\"amount\">\n           <a> 客服热线：021-6886 0027</a>\n        </div> <br/><br/>\n        <div id=\"companyName\" :data-clipboard-text=\"'3078129182'\" @click=\"copyFn('#companyName')\" class=\"amount\"> 客服QQ：3078129182</div>\n    </div>\n</template>\n<script lang=\"ts\" >\nimport QRCode from 'qrcodejs2'\nimport { Component, Vue } from 'vue-property-decorator';\nimport Clipboard from \"clipboard\";\n\n@Component({\n    components: {},\n})\nexport default class weixinpay extends Vue {\n    qrcode:any='';\n    innerVisible:any=false;\n    qr:any='';\n    cover:any = true;\n    time:any= 7200000;\n    timeId:any = ''\n    p1:string = '请使用微信扫描'\n    p2:string = '二维码完成支付'\n    query:any={}\n    created () {\n        let query:any = this.$route.query.user\n        this.query = JSON.parse(query);\n        this.payOrder()\n        this.CountDown()\n    }\n    copyFn(id:any) { // 复制功能\n        let clipboard = new Clipboard(id);\n        let m:any = this\n        this.$nextTick(() => {\n          clipboard.on(\"success\", function(e:any) {\n            m.$toast('复制成功')\n            clipboard.destroy();\n          });\n          clipboard.on(\"error\", function(e:any) {\n            m.$toast('当前浏览器不支持复制')\n            clipboard.destroy();\n          });\n        });\n      }\n    payOrder () {\n        this.innerVisible = true\n        this.qrcode = this.query.pay_url\n        this.$nextTick(() => {\n        this.crateQrcode()\n        })\n    }\n    CountDown() {\n        this.timeId = setInterval(()=>{\n            this.info()\n            // this.time--\n            // if(this.time === 0) {\n            //     clearInterval(this.timeId)\n            //     this.cover = false\n            //     this.p1 = '微信二维码已失效'\n            //     this.p2 = '请点击刷新'\n            // }\n        },5000)\n    }\n    finish(){ // 倒计时结束\n        clearInterval(this.timeId) // 清除定时器\n        this.$router.push({name: 'EightWords'}); // 过期跳往首页从新下单\n    }\n    refresh() { // 刷新按钮\n        if(!this.cover) {\n            this.time = 10\n            this.cover = true\n            this.p1 = '请使用微信扫描'\n            this.p2 = '二维码完成支付'\n            //  this.CountDown()\n        }\n    }\n    // 生成二维码\n    crateQrcode () {\n        this.qr = new QRCode('qrcode', {\n        width: 282,\n        height: 275, // 高度\n        text: this.qrcode // 二维码内容\n        // render: 'canvas' // 设置渲染方式（有两种方式 table和canvas，默认是canvas）\n        // background: '#f0f'\n        // foreground: '#ff0'\n        })\n    }\n    beforeDestroy () {\n        clearInterval(this.timeId)\n    }\n    info() { //轮询结果\n        let data = {\n            order_no:this.query.order_no\n        }\n        this.$post('queryOrder',data).then((res:any)=>{\n            if(res.error_code == 0) { // 成功跳转结果页面\n                if(res.data.trade_state == 'SUCCESS') { // 只有成功后才做处理其他状态不做处理\n                  this.$router.push({name: 'results',query:{ order_no: JSON.stringify(this.query.order_no)}});\n                }\n            } \n        }).catch((err:any)=> {\n            console.log(err)\n        })\n    }\n}\n</script>\n<style lang=\"scss\">\nbody{\n    max-width: 100% !important;\n    .weixinpay {\n        width: 100%;\n        height: 100%;\n    }\n    .height{\n        width:100%;\n        height:78px;\n        background: url('../../assets/img/backherder.png') -3px -4px no-repeat;\n        background-size: 101% 105%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        .weixing {\n            width: 221px;\n            height: 50px;\n            background: url('../../assets/img/weixingpay.png');\n            background-size: 101% 100%;\n        }\n    }\n    .content{\n        width:1000px;\n        margin:0 auto;\n        .titleNav{\n            padding:40px 10px 31px 10px;\n        }\n        .QrCode{\n            width: 1000px;\n            height: 610px;\n            background: #ffffff;\n            border-radius: 5px;\n            box-shadow: 0px 0px 10px 0px rgba(0,0,0,0.1);\n            padding:54px 0 51px 0;\n            box-sizing: border-box;\n            margin-bottom: 40px;\n            .left {\n                width: 50%;\n                height: 100%;\n                .title {\n                    font-size: 14px;\n                    font-family: PingFang, PingFang-SC;\n                    font-weight: SC;\n                    text-align: center;\n                    color: #333333;\n                    line-height: 20px;\n                    margin:29px 0 29px 0;\n                    .van-count-down{\n                        display: inline-block;\n                    }\n                }\n                .Code{\n                    width: 316px;\n                    height: 309px;\n                    border: 2px solid #e6e6e6;\n                    border-radius: 5px;\n                    margin:0 auto;\n                    padding:15px;\n                    box-sizing: border-box;\n                    position: relative;\n                }\n                .cover{\n                    background: hsl(20,40%,90%);\n                    filter:blur(10px);\n                }\n                .guide{\n                    width: 316px;\n                    height: 74px;\n                    background: #ff7674;\n                    border-radius: 5px;\n                    margin:34px auto;\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    // cursor: pointer;\n                    .pointa{\n                        width:52px;\n                        height:52px;\n                        background: url('../../assets/img/Pointa.png');\n                        background-size: 100% 100%;\n                    }\n                    .pointb{\n                        width:32px;\n                        height:32px;\n                        background: url('../../assets/img/refresh.png');\n                        background-size: 100% 100%;\n                    }\n                    .prompt {\n                        font-size: 16px;\n                        font-family: PingFang, PingFang-SC;\n                        font-weight: SC;\n                        text-align: center;\n                        color: #ffffff;\n                        line-height: 22px;\n                        margin-left: 27px;\n                    }\n                }\n            }\n            .right {\n                width: 50%;\n                .img{\n                    width:432px;\n                    height:505px;\n                    background: url('../../assets/img/weixing.png');\n                    background-size: 100% 100%;\n                    margin: 0 auto;\n                }\n            }\n        }\n    }\n    .amount{\n        text-align: center;\n        height:50px;\n    }\n}\n</style>"]}]}